(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"z/sn":function(e,t,n){"use strict";n.r(t),n.d(t,"BiologyReproductionPageModule",(function(){return G}));var o=n("2kYt"),r=n("sEIs"),a=n("D57K"),i=n("HNpX"),l=n("748j"),c=n("NgwZ"),m=n("EM62"),d=n("z8k5"),p=n("k4AU"),s=n("dAoM"),u=n("OZ4H"),f=n("qFEQ"),g=n("3Uyd"),x=n("PBFl"),b=n("tzv3"),v=n("nIj0"),E=n("bFHC"),O=n("OCVA"),h=n("0SQz"),S=n("+Tre"),y=n("29Wa"),C=n("Cd2c"),I=n("CL0+"),w=n("zmEM"),N=n("UdFe");function k(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"span"),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" Biologi Reproduksi Kapal ",e," ")}}function R(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"span",43),m["\u0275\u0275text"](1,"*Belum ada nama kapal"),m["\u0275\u0275elementEnd"]())}function A(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",44),m["\u0275\u0275elementStart"](1,"div",45),m["\u0275\u0275text"](2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",46),m["\u0275\u0275element"](4,"brpl-workspace-text-input",47,48),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"div",49),m["\u0275\u0275element"](7,"brpl-workspace-autocomplete",50,51),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",46),m["\u0275\u0275element"](10,"brpl-workspace-text-input",52,53),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](12,"div",54),m["\u0275\u0275element"](13,"brpl-workspace-autocomplete",55,56),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](15,"div",49),m["\u0275\u0275element"](16,"brpl-workspace-text-input",57,58),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](18,"div",59),m["\u0275\u0275element"](19,"brpl-workspace-text-input",60,61),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",62),m["\u0275\u0275elementStart"](22,"button",63),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const n=t.index,o=m["\u0275\u0275nextContext"]().$implicit;return m["\u0275\u0275nextContext"](3).removeReproductionDetail(o,n)})),m["\u0275\u0275elementStart"](23,"mat-icon"),m["\u0275\u0275text"](24,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.index,n=m["\u0275\u0275nextContext"](4);m["\u0275\u0275property"]("formGroupName",e),m["\u0275\u0275advance"](2),m["\u0275\u0275textInterpolate1"]("",e+1,"."),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("targetOptions",n.lengthTypeDummy),m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("targetOptions",n.sexDummy)}}function F(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"mat-expansion-panel",9),m["\u0275\u0275elementStart"](1,"mat-expansion-panel-header",10),m["\u0275\u0275elementStart"](2,"mat-panel-title",11),m["\u0275\u0275elementStart"](3,"span",12),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](5,"\xa0\xa0 "),m["\u0275\u0275elementStart"](6,"div",12),m["\u0275\u0275template"](7,k,2,1,"span",13),m["\u0275\u0275template"](8,R,2,0,"ng-template",null,14,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"div",15),m["\u0275\u0275elementStart"](11,"button",16),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const n=t.index,o=m["\u0275\u0275nextContext"]().ngIf;return m["\u0275\u0275nextContext"](2).removeReproduction(o,n)})),m["\u0275\u0275elementStart"](12,"mat-icon"),m["\u0275\u0275text"](13,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",17),m["\u0275\u0275elementStart"](15,"div",18),m["\u0275\u0275element"](16,"brpl-workspace-general-header",19),m["\u0275\u0275elementStart"](17,"div",10),m["\u0275\u0275elementStart"](18,"div",20),m["\u0275\u0275elementStart"](19,"div",21),m["\u0275\u0275text"](20," Keterangan Penangkapan "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",10),m["\u0275\u0275elementStart"](22,"div",22),m["\u0275\u0275elementStart"](23,"div",23),m["\u0275\u0275elementStart"](24,"div",24),m["\u0275\u0275element"](25,"brpl-workspace-text-input",25,26),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](27,"div",27),m["\u0275\u0275elementStart"](28,"div",4),m["\u0275\u0275elementStart"](29,"section"),m["\u0275\u0275elementStart"](30,"mat-checkbox",28),m["\u0275\u0275text"](31,"Penangkap"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](32,"div",29),m["\u0275\u0275elementStart"](33,"div",24),m["\u0275\u0275elementStart"](34,"mat-form-field",30),m["\u0275\u0275elementStart"](35,"mat-label"),m["\u0275\u0275text"](36,"Nama Alat Tangkap"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](37,"input",31),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](38,"div",22),m["\u0275\u0275elementStart"](39,"div",32),m["\u0275\u0275elementStart"](40,"div",24),m["\u0275\u0275element"](41,"brpl-workspace-text-input",33,34),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](43,"div",4),m["\u0275\u0275elementStart"](44,"div",4),m["\u0275\u0275elementStart"](45,"section"),m["\u0275\u0275elementStart"](46,"mat-checkbox",35),m["\u0275\u0275text"](47,"Penampung"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](48,"div",32),m["\u0275\u0275elementStart"](49,"div",24),m["\u0275\u0275element"](50,"brpl-workspace-autocomplete",36,37),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](52,"div"),m["\u0275\u0275element"](53,"mat-divider"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](54,"div",38),m["\u0275\u0275text"](55," Rincian Sampling Biologi "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](56,"div",39),m["\u0275\u0275template"](57,A,25,4,"div",40),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](58,"div",41),m["\u0275\u0275elementStart"](59,"button",42),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const n=t.$implicit;return m["\u0275\u0275nextContext"](3).addNewReproductionDetail(n)})),m["\u0275\u0275elementStart"](60,"mat-icon"),m["\u0275\u0275text"](61,"add"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275text"](62," Tambah Ikan "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=m["\u0275\u0275reference"](9),r=m["\u0275\u0275nextContext"](2).ngIf,a=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("formGroup",e),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"]("",n+1,"."),m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("ngIf",a.getBoatName(e))("ngIfElse",o),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("rootForm",r),m["\u0275\u0275advance"](34),m["\u0275\u0275property"]("filterOnProp","indonesia")("targetOptions",a.speciesDummy),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("ngForOf",a.formService.formTransformer.extractAllMemberOfFormArray(e,"reproductions"))}}function L(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",4),m["\u0275\u0275elementStart"](1,"mat-accordion",5),m["\u0275\u0275template"](2,F,63,8,"mat-expansion-panel",6),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",7),m["\u0275\u0275elementStart"](4,"button",8),m["\u0275\u0275listener"]("click",(function(){m["\u0275\u0275restoreView"](e);const t=m["\u0275\u0275nextContext"]().ngIf;return m["\u0275\u0275nextContext"]().selectBoat(t)})),m["\u0275\u0275text"](5," Buat Baru "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}if(2&e){const e=t.ngIf;m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngForOf",e.controls)}}function D(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",64),m["\u0275\u0275listener"]("rendered",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"](2).formService.initReproductionsRef()})),m["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"div",1),m["\u0275\u0275template"](1,L,6,1,"div",2),m["\u0275\u0275pipe"](2,"async"),m["\u0275\u0275template"](3,D,1,0,"ng-template",null,3,m["\u0275\u0275templateRefExtractor"]),m["\u0275\u0275elementEnd"]()),2&e){const e=m["\u0275\u0275reference"](4),t=m["\u0275\u0275nextContext"]();m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",m["\u0275\u0275pipeBind1"](2,2,t.formService.reproductionsRef$))("ngIfElse",e)}}let _=(()=>{class e{constructor(e,t){this.formService=e,this.matDialog=t,this.lengthTypeDummy=()=>Object(d.lengthType)(),this.sexDummy=()=>Object(d.sexDummy)(),this.speciesDummy=()=>Object(d.species)()}ngOnInit(){}getDetailsHaveReproduction(e){return Object(d.extractingValue)(e.value,d.DETAILS_CONTROL_NAME).filter(e=>!Object(d.isEmpty)(e.reproduction.id))}getBoatName(e){const t=Object(d.extractFormControlValue)(d.BOAT_CONTROL_NAME,e);return void 0===t||0===String(t).length?void 0:t}selectBoat(e){let t;this.selectBoatRef=this.matDialog.open(p.a,{width:"400px",position:{top:"260px"},data:{initSource:this.getDetailsHaveReproduction(e)}}),t=this.selectBoatRef.afterClosed().subscribe(n=>{n&&n.details?Object(d.loadInBackgroud)(()=>{this.createReproductions(e,null==n?void 0:n.details).then(t=>{this.getExistingReproductions(e).then(()=>this.formService.isDoingSomething(!1))})}):this.formService.isDoingSomething(!1),t.unsubscribe()})}createReproductions(e,t){return Object(a.a)(this,void 0,void 0,(function*(){yield t.forEach(t=>{const n=this.getLandingDetailFormGroup(e,t.id),o=Object(d.extractFormGroup)(n,d.REPRODUCTION_ON_LANDING_DETAIL),r=Object(d.extractFormControl)(o,d.GLOBAL_ID_PROP);Object(d.isEmpty)(r.value)&&n.controls[d.REPRODUCTION_ON_LANDING_DETAIL].setValue(Object.assign(Object.assign({},d.biologyReproductionInit),{id:Object(d.generateUUID)(),boatName:t.boatName,fishingArea:t.fishingArea,totalCatchInVolume:t.totalCatchInVolume,totalCatchInIndividu:t.totalCatchInIndividu}))})}))}getLandingDetailFormGroup(e,t){for(const n of Object(d.extractAllMemberOfFormArray)(e,d.DETAILS_CONTROL_NAME))if(n.value.id===t)return n}getExistingReproductions(e){return Object(a.a)(this,void 0,void 0,(function*(){for(const t of Object(d.extractAllMemberOfFormArray)(e,d.DETAILS_CONTROL_NAME)){const e=Object(d.extractFormGroup)(t,d.REPRODUCTION_ON_LANDING_DETAIL),n=Object(d.extractFormControl)(e,d.GLOBAL_ID_PROP);Object(d.isEmpty)(n.value)||this.formService.addMemberOfReproductionsRef$(e)}}))}removeReproduction(e,t){e.removeAt(t)}addNewReproductionDetail(e,t=d.REPRODUCTION_DETAIL){return Object(d.addFormArrayMember)(e,t,Object(d.createFormGroup)(Object(d.createFormGroupContent)(Object.assign(Object.assign({},d.biologyReproductionDetailInit),{id:Object(d.generateUUID)()}))))}removeReproductionDetail(e,t,n=d.REPRODUCTION_DETAIL){return Object(d.removeFormArrayMember)(e,n,t)}}return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](s.b),m["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["brpl-workspace-biologi-reproduction"]],decls:2,vars:3,consts:[["class","page-content","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"page-content"],["fxLayout","column",4,"ngIf","ngIfElse"],["emptyReproductionsRef",""],["fxLayout","column"],["fxLayout","column",1,"mat-elevation-z0"],["fxFlexOffset","8px","brplWorkspaceMatExpansionPanel","","class","mat-elevation-z0 border-container",3,"formGroup",4,"ngFor","ngForOf"],["fxLayout","column","fxFlexOffset","30px"],["fxFlexAlign","end","mat-raised-button","","color","accent",1,"white-color",3,"click"],["fxFlexOffset","8px","brplWorkspaceMatExpansionPanel","",1,"mat-elevation-z0","border-container",3,"formGroup"],["fxLayout","row"],["fxLayout","row",1,"ps-expansion-header"],["fxFlexAlign","center"],[4,"ngIf","ngIfElse"],["noBoatName",""],[1,"detail-remove"],["color","warn","fxFlexAlign","center","mat-icon-button","",3,"click"],["fxLayout","column",1,"ps-biologi-reproduction-content"],["fxLayout","column",1,"mat-elevation-z"],[3,"rootForm"],["fxLayout","column","fxFlex","grow",1,"border-container","ps-biologi-reproduction-content"],[1,"start-sub-detail","sub-detail-title","primary-color","content-container-background"],["fxFlex","50%","fxLayout","column"],["fxLayout","row",1,"start-sub-detail","end-sub-detail"],["fxFlex","grow",1,"sub-detail-stretch"],["placeholder","Nama Kapal","formControlName","boatName"],["boatName","iText"],["fxLayout","column",1,"start-sub-detail"],["formControlName","catcher"],["fxLayout","row",1,"start-sub-detail","end-sub-detail","end-sub-detail-stretch"],["appearance","outline"],["matInput","","autocomplete","off","placeholder","Nama Alat Tangkap"],["fxLayout","row",1,"end-sub-detail"],["placeholder","Daerah Penangkapan","formControlName","fishingArea"],["fishingArea","iText"],["formControlName","collector"],["appearance","outline","placeholder","Jenis Ikan","formGroupName","species","mode","initially","displayProp","indonesia","optionHints","latin",3,"filterOnProp","targetOptions"],["species","iAutocomplete"],[1,"start-sub-detail","sub-detail-title","primary-color","content-container-background","subtitle-bot-margin"],["fxLayout","column","formArrayName","reproductions"],["fxLayout","row","class","start-sub-detail end-sub-detail",3,"formGroupName",4,"ngFor","ngForOf"],["fxLayout","column",1,"end-sub-detail","end-sub-detail-stretch"],["fxFlexAlign","end","mat-raised-button","","color","accent",1,"white-color","subtitle-bot-margin",3,"click"],[1,"warn-color"],["fxLayout","row",1,"start-sub-detail","end-sub-detail",3,"formGroupName"],["fxFlexAlign","center",1,"numbering"],["fxFlex","19%",1,"seq-detail-stretch","end-input"],["placeholder","Panjang Ukuran","hint","Cm","formControlName","length"],["length","iText"],["fxFlex","14%",1,"seq-detail-stretch","end-input"],["appearance","outline","placeholder","Tipe Panjang","formControlName","lengthType","mode","initially",3,"targetOptions"],["lengthType","iAutocomplete"],["placeholder","Berat","hint","Kg","formControlName","weight"],["weight","iText"],["fxFlex","9%",1,"seq-detail-stretch","end-input"],["appearance","outline","placeholder","Kelamin","formControlName","sex","mode","initially",3,"targetOptions"],["sex","iAutocomplete"],["placeholder","TKG","formControlName","tkg"],["tkg","iText"],["fxFlex","18%",1,"seq-detail-stretch"],["placeholder","Berat Gonad","formControlName","gonad"],["gonad","iText"],["fxLayout","row",1,"remove"],["fxFlexAlign","center","mat-icon-button","","color","warn",3,"click"],["brplWorkspaceElementRendered","",3,"rendered"]],template:function(e,t){1&e&&(m["\u0275\u0275template"](0,j,5,4,"div",0),m["\u0275\u0275pipe"](1,"async")),2&e&&m["\u0275\u0275property"]("ngIf",m["\u0275\u0275pipeBind1"](1,1,t.formService.landingRef$))},directives:[o.k,f.e,g.a,o.j,f.c,x.a,f.a,g.c,b.a,v.NgControlStatusGroup,v.FormGroupDirective,g.d,g.e,E.a,O.a,f.b,h.a,v.NgControlStatus,v.FormControlName,S.a,y.c,y.g,C.b,I.a,v.FormGroupName,w.a,v.FormArrayName,N.a],pipes:[o.b],styles:[".ps-form-content[_ngcontent-%COMP%]{padding:25px 0 10px}.ps-expansion-header[_ngcontent-%COMP%]{font-size:14px;padding-left:10px;font-weight:500}.ps-expansion-content[_ngcontent-%COMP%]{background-color:#fff}.start-sub-detail[_ngcontent-%COMP%]{padding-left:35px!important}.sub-detail-title[_ngcontent-%COMP%]{padding:15px 0;font-weight:500}.sub-detail-stretch[_ngcontent-%COMP%]{padding:25px 0 0}.end-sub-detail[_ngcontent-%COMP%]{padding-right:35px!important}.end-input[_ngcontent-%COMP%]{padding-right:25px!important}.seq-detail-stretch[_ngcontent-%COMP%]{padding:10px 0 0}.seq-no-sub-stretch[_ngcontent-%COMP%]{padding-top:30px!important}.seq-detail-stretch-beside-checbox[_ngcontent-%COMP%]{padding:19px 0 0}.subtitle-bot-margin[_ngcontent-%COMP%]{margin-bottom:15px!important}.end-sub-detail-stretch[_ngcontent-%COMP%]{padding-bottom:10px!important}.sub-title[_ngcontent-%COMP%]{font-weight:500;font-size:14px}.upload-icon[_ngcontent-%COMP%]{margin-top:-5px}.upload-icon-text[_ngcontent-%COMP%]{padding-left:5px}.detail-remove[_ngcontent-%COMP%]{padding-right:10px}.numbering[_ngcontent-%COMP%]{padding-right:30px}.remove[_ngcontent-%COMP%]{padding-left:10px;margin-top:-5px}.ps-biologi-reproduction-content[_ngcontent-%COMP%]{background:#fff}"]}),e})();function P(e,t){1&e&&m["\u0275\u0275element"](0,"brpl-workspace-biologi-reproduction")}function M(e,t){if(1&e){const e=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"div",2),m["\u0275\u0275listener"]("rendered",(function(){return m["\u0275\u0275restoreView"](e),m["\u0275\u0275nextContext"]().formService.initLandingRef()})),m["\u0275\u0275elementEnd"]()}}const T=[{path:"",component:(()=>{let e=class{constructor(e,t,n){this.appState=e,this.router=t,this.formService=n,e.updateDafLinkState$(t.url)}ngOnInit(){}};return e.\u0275fac=function(t){return new(t||e)(m["\u0275\u0275directiveInject"](i.a),m["\u0275\u0275directiveInject"](r.e),m["\u0275\u0275directiveInject"](l.b))},e.\u0275cmp=m["\u0275\u0275defineComponent"]({type:e,selectors:[["brpl-workspace-biology-reproduction-page"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["emptyLandingForm",""],["brplWorkspaceElementRendered","",3,"rendered"]],template:function(e,t){if(1&e&&(m["\u0275\u0275template"](0,P,1,0,"brpl-workspace-biologi-reproduction",0),m["\u0275\u0275pipe"](1,"async"),m["\u0275\u0275template"](2,M,1,0,"ng-template",null,1,m["\u0275\u0275templateRefExtractor"])),2&e){const e=m["\u0275\u0275reference"](3);m["\u0275\u0275property"]("ngIf",m["\u0275\u0275pipeBind1"](1,2,t.formService.landingRef$))("ngIfElse",e)}},directives:[o.k,_,N.a],pipes:[o.b],styles:[""]}),e=Object(a.b)([Object(c.a)()],e),e})()}];let B=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,r.g.forChild(T)],r.g]}),e})(),G=(()=>{class e{}return e.\u0275mod=m["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,B,l.c]]}),e})()}}]);